{
"version":3,
"file":"module$node_modules$vega_voronoi$build$vega_voronoi.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/vega-voronoi/build/vega-voronoi.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_voronoi$build$vega_voronoi\"] = function(global,process,require,module,exports,shadow$shims) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-dataflow'), require('vega-util'), require('d3-delaunay')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-dataflow', 'vega-util', 'd3-delaunay'], factory) :\n  (global = global || self, factory((global.vega = global.vega || {}, global.vega.transforms = {}), global.vega, global.vega, global.d3));\n}(this, function (exports, vegaDataflow, vegaUtil, d3Delaunay) { 'use strict';\n\n  function Voronoi(params) {\n    vegaDataflow.Transform.call(this, null, params);\n  }\n\n  Voronoi.Definition = {\n    \"type\": \"Voronoi\",\n    \"metadata\": {\"modifies\": true},\n    \"params\": [\n      { \"name\": \"x\", \"type\": \"field\", \"required\": true },\n      { \"name\": \"y\", \"type\": \"field\", \"required\": true },\n      { \"name\": \"size\", \"type\": \"number\", \"array\": true, \"length\": 2 },\n      { \"name\": \"extent\", \"type\": \"array\", \"array\": true, \"length\": 2,\n        \"default\": [[-1e5, -1e5], [1e5, 1e5]],\n        \"content\": {\"type\": \"number\", \"array\": true, \"length\": 2} },\n      { \"name\": \"as\", \"type\": \"string\", \"default\": \"path\" }\n    ]\n  };\n\n  const prototype = vegaUtil.inherits(Voronoi, vegaDataflow.Transform);\n\n  const defaultExtent = [-1e5, -1e5, 1e5, 1e5];\n\n  prototype.transform = function(_, pulse) {\n    const as = _.as || 'path',\n          data = pulse.source;\n\n    // nothing to do if no data\n    if (!data || !data.length) return pulse;\n\n    // configure and construct voronoi diagram\n    let s = _.size;\n    s = s ? [0, 0, s[0], s[1]]\n      : (s = _.extent) ? [s[0][0], s[0][1], s[1][0], s[1][1]]\n      : defaultExtent;\n\n    const voronoi = this.value = d3Delaunay.Delaunay.from(data, _.x, _.y).voronoi(s);\n\n    // map polygons to paths\n    for (let i=0, n=data.length; i<n; ++i) {\n      const polygon = voronoi.cellPolygon(i);\n      data[i][as] = polygon ? toPathString(polygon) : null;\n    }\n\n    return pulse.reflow(_.modified()).modifies(as);\n  };\n\n  // suppress duplicated end point vertices\n  function toPathString(p) {\n    const x = p[0][0],\n          y = p[0][1];\n\n    let n = p.length - 1;\n    for (; p[n][0] === x && p[n][1] === y; --n);\n\n    return 'M' + p.slice(0, n + 1).join('L') + 'Z';\n  }\n\n  exports.voronoi = Voronoi;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","factory","define","amd","self","vega","transforms","d3","vegaDataflow","vegaUtil","d3Delaunay","Voronoi","params","Transform","call","Definition","defaultExtent","inherits","prototype","transform","prototype.transform","_","pulse","as","data","source","length","s","size","extent","voronoi","value","Delaunay","from","x","y","i","n","polygon","cellPolygon","p","slice","join","reflow","modified","modifies","Object","defineProperty"]
}
