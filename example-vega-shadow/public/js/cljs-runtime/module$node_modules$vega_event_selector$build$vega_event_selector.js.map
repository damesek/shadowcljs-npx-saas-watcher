{
"version":3,
"file":"module$node_modules$vega_event_selector$build$vega_event_selector.js",
"lineCount":7,
"mappings":"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",
"sources":["node_modules/vega-event-selector/build/vega-event-selector.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_event_selector$build$vega_event_selector\"] = function(global,process,require,module,exports,shadow$shims) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.vega = {}));\n}(this, function (exports) { 'use strict';\n\n  /**\n   * Parse an event selector string.\n   * Returns an array of event stream definitions.\n   */\n  function eventSelector(selector, source, marks) {\n    DEFAULT_SOURCE = source || VIEW;\n    MARKS = marks || DEFAULT_MARKS;\n    return parseMerge(selector.trim()).map(parseSelector);\n  }\n\n  var VIEW    = 'view',\n      LBRACK  = '[',\n      RBRACK  = ']',\n      LBRACE  = '{',\n      RBRACE  = '}',\n      COLON   = ':',\n      COMMA   = ',',\n      NAME    = '@',\n      GT      = '>',\n      ILLEGAL = /[[\\]{}]/,\n      DEFAULT_SOURCE,\n      MARKS,\n      DEFAULT_MARKS = {\n        '*': 1,\n        arc: 1,\n        area: 1,\n        group: 1,\n        image: 1,\n        line: 1,\n        path: 1,\n        rect: 1,\n        rule: 1,\n        shape: 1,\n        symbol: 1,\n        text: 1,\n        trail: 1\n      };\n\n  function isMarkType(type) {\n    return MARKS[type];\n  }\n\n  function find(s, i, endChar, pushChar, popChar) {\n    var count = 0,\n        n = s.length,\n        c;\n    for (; i<n; ++i) {\n      c = s[i];\n      if (!count && c === endChar) return i;\n      else if (popChar && popChar.indexOf(c) >= 0) --count;\n      else if (pushChar && pushChar.indexOf(c) >= 0) ++count;\n    }\n    return i;\n  }\n\n  function parseMerge(s) {\n    var output = [],\n        start = 0,\n        n = s.length,\n        i = 0;\n\n    while (i < n) {\n      i = find(s, i, COMMA, LBRACK + LBRACE, RBRACK + RBRACE);\n      output.push(s.substring(start, i).trim());\n      start = ++i;\n    }\n\n    if (output.length === 0) {\n      throw 'Empty event selector: ' + s;\n    }\n    return output;\n  }\n\n  function parseSelector(s) {\n    return s[0] === '['\n      ? parseBetween(s)\n      : parseStream(s);\n  }\n\n  function parseBetween(s) {\n    var n = s.length,\n        i = 1,\n        b, stream;\n\n    i = find(s, i, RBRACK, LBRACK, RBRACK);\n    if (i === n) {\n      throw 'Empty between selector: ' + s;\n    }\n\n    b = parseMerge(s.substring(1, i));\n    if (b.length !== 2) {\n      throw 'Between selector must have two elements: ' + s;\n    }\n\n    s = s.slice(i + 1).trim();\n    if (s[0] !== GT) {\n      throw 'Expected \\'>\\' after between selector: ' + s;\n    }\n\n    b = b.map(parseSelector);\n\n    stream = parseSelector(s.slice(1).trim());\n    if (stream.between) {\n      return {\n        between: b,\n        stream: stream\n      };\n    } else {\n      stream.between = b;\n    }\n\n    return stream;\n  }\n\n  function parseStream(s) {\n    var stream = {source: DEFAULT_SOURCE},\n        source = [],\n        throttle = [0, 0],\n        markname = 0,\n        start = 0,\n        n = s.length,\n        i = 0, j,\n        filter;\n\n    // extract throttle from end\n    if (s[n-1] === RBRACE) {\n      i = s.lastIndexOf(LBRACE);\n      if (i >= 0) {\n        try {\n          throttle = parseThrottle(s.substring(i+1, n-1));\n        } catch (e) {\n          throw 'Invalid throttle specification: ' + s;\n        }\n        s = s.slice(0, i).trim();\n        n = s.length;\n      } else throw 'Unmatched right brace: ' + s;\n      i = 0;\n    }\n\n    if (!n) throw s;\n\n    // set name flag based on first char\n    if (s[0] === NAME) markname = ++i;\n\n    // extract first part of multi-part stream selector\n    j = find(s, i, COLON);\n    if (j < n) {\n      source.push(s.substring(start, j).trim());\n      start = i = ++j;\n    }\n\n    // extract remaining part of stream selector\n    i = find(s, i, LBRACK);\n    if (i === n) {\n      source.push(s.substring(start, n).trim());\n    } else {\n      source.push(s.substring(start, i).trim());\n      filter = [];\n      start = ++i;\n      if (start === n) throw 'Unmatched left bracket: ' + s;\n    }\n\n    // extract filters\n    while (i < n) {\n      i = find(s, i, RBRACK);\n      if (i === n) throw 'Unmatched left bracket: ' + s;\n      filter.push(s.substring(start, i).trim());\n      if (i < n-1 && s[++i] !== LBRACK) throw 'Expected left bracket: ' + s;\n      start = ++i;\n    }\n\n    // marshall event stream specification\n    if (!(n = source.length) || ILLEGAL.test(source[n-1])) {\n      throw 'Invalid event selector: ' + s;\n    }\n\n    if (n > 1) {\n      stream.type = source[1];\n      if (markname) {\n        stream.markname = source[0].slice(1);\n      } else if (isMarkType(source[0])) {\n        stream.marktype = source[0];\n      } else {\n        stream.source = source[0];\n      }\n    } else {\n      stream.type = source[0];\n    }\n    if (stream.type.slice(-1) === '!') {\n      stream.consume = true;\n      stream.type = stream.type.slice(0, -1);\n    }\n    if (filter != null) stream.filter = filter;\n    if (throttle[0]) stream.throttle = throttle[0];\n    if (throttle[1]) stream.debounce = throttle[1];\n\n    return stream;\n  }\n\n  function parseThrottle(s) {\n    var a = s.split(COMMA);\n    if (!s.length || a.length > 2) throw s;\n    return a.map(function(_) {\n      var x = +_;\n      if (x !== x) throw s;\n      return x;\n    });\n  }\n\n  exports.selector = eventSelector;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","factory","define","amd","self","vega","find","s","i","endChar","pushChar","popChar","count","n","length","c","indexOf","parseMerge","output","start","COMMA","LBRACK","LBRACE","RBRACK","RBRACE","push","substring","trim","parseSelector","b","slice","GT","map","stream","between","source","DEFAULT_SOURCE","throttle","markname","lastIndexOf","parseThrottle","e","NAME","j","COLON","filter","ILLEGAL","test","type","MARKS","marktype","consume","debounce","a","split","_","x","DEFAULT_MARKS","arc","area","group","image","line","path","rect","rule","shape","symbol","text","trail","selector","eventSelector","marks","VIEW","Object","defineProperty","value"]
}
