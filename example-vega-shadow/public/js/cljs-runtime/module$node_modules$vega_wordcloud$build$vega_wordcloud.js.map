{
"version":3,
"file":"module$node_modules$vega_wordcloud$build$vega_wordcloud.js",
"lineCount":18,
"mappings":"AAAAA,cAAA,wDAAA,CAA4E,QAAQ,CAACC,eAAD,CAAQC,OAAR,CAAgBC,OAAhB,CAAwBC,MAAxB,CAA+BC,gBAA/B,CAAuCC,YAAvC,CAAqD,CACxI,SAAS,CAACL,MAAD,CAASM,OAAT,CAAkB,CACP,QAAnB,GAAA,MAAOF,iBAAP,EAAiD,WAAjD,GAA+B,MAAOD,OAAtC,CAA+DG,OAAA,CAAQF,gBAAR,CAAiBF,OAAA,CAAQ,mDAAR,CAAjB,CAAyCA,OAAA,CAAQ,uDAAR,CAAzC,CAAmEA,OAAA,CAAQ,+CAAR,CAAnE,CAAyFA,OAAA,CAAQ,iDAAR,CAAzF;AAAgHA,OAAA,CAAQ,2DAAR,CAAhH,CAA/D,CACkB,UAAlB,GAAA,MAAOK,OAAP,EAAgCA,MAAAC,IAAhC,CAA6CD,MAAA,CAAO,wEAAA,MAAA,CAAA,GAAA,CAAP,CAAkGD,OAAlG,CAA7C,EACCN,MAAA,CAASA,MAAT,EAAmBS,IAAnB,CAAyBH,OAAA,EAASN,MAAAU,KAAA,CAAcV,MAAAU,KAAd,EAA6B,EAA7B,CAAiCV,MAAAU,KAAAC,WAAjC,CAA0D,EAAnE,EAAwEX,MAAAU,KAAxE,CAAqFV,MAAAU,KAArF,CAAkGV,MAAAU,KAAlG,CAA+GV,MAAAU,KAA/G,CAA4HV,MAAAU,KAA5H,CAD1B,CAF0B,CAA3B,CAAA,CAIC,IAJD,CAIO,QAAS,CAACN,OAAD,CAAUQ,UAAV,CAAsBC,YAAtB,CAAoCC,QAApC,CAA8CC,SAA9C,CAAyDC,cAAzD,CAAyE,CAsCxFC,QAASA,MAAK,EAAG,CA4DfC,QAASA,WAAU,CAACC,MAAD,CAAS,CAC1BA,MAAAC,MAAA,CAAeD,MAAAE,OAAf;AAA+B,CAC/B,KAAIC,MAAQC,IAAAC,KAAA,CAAUL,MAAAD,WAAA,CAAkB,IAAlB,CAAAO,aAAA,CAAqC,CAArC,CAAwC,CAAxC,CAA2C,CAA3C,CAA8C,CAA9C,CAAAC,KAAAC,OAAV,EAA0E,CAA1E,CACZR,OAAAC,MAAA,CAAgB,IAAhB,CAA2BE,KAC3BH,OAAAE,OAAA,CAlEKO,IAkEL,CAAqBN,KAEjBO,OAAAA,CAAUV,MAAAD,WAAA,CAAkB,IAAlB,CACdW,OAAAC,UAAA,CAAoBD,MAAAE,YAApB,CAA0C,KAC1CF,OAAAG,UAAA,CAAoB,QAEpB,OAAO,CAACH,QAASA,MAAV,CAAmBP,MAAOA,KAA1B,CAVmB,CAa5BW,QAASA,MAAK,CAACC,KAAD,CAAQC,GAAR,CAAaC,MAAb,CAAqB,CAWjC,IAXiC,IAC7BC,OAASF,GAAAG,EADoB,CAE7BC,OAASJ,GAAAK,EAFoB,CAG7BC,SAAWlB,IAAAC,KAAA,CAAUkB,IAAA,CAAK,CAAL,CAAV,CAAoBA,IAAA,CAAK,CAAL,CAApB,CAA8BA,IAAA,CAAK,CAAL,CAA9B,CAAwCA,IAAA,CAAK,CAAL,CAAxC,CAHkB,CAI7BC,EAAIC,MAAA,CAAOF,IAAP,CAJyB,CAK7BG,GAAgB,EAAX,CAAAC,MAAA,EAAA,CAAgB,CAAhB,CAAqB,EALG,CAM7BC,EAAI,CAACF,EANwB,CAO7BG,IAP6B,CAQ7BC,EAGJ,CAAOD,IAAP,CAAcL,CAAA,CAAEI,CAAF,EAAOF,EAAP,CAAd,CAAA,CAA0B,CACxBI,EAAA,CAAK,CAAC,CAACD,IAAA,CAAK,CAAL,CACPE,KAAA,CAAK,CAAC,CAACF,IAAA,CAAK,CAAL,CAEP,IAAIzB,IAAA4B,IAAA,CAAS5B,IAAA6B,IAAA,CAASH,EAAT,CAAT;AAAuB1B,IAAA6B,IAAA,CAASF,IAAT,CAAvB,CAAJ,EAA4CT,QAA5C,CAAsD,KAEtDN,IAAAG,EAAA,CAAQD,MAAR,CAAiBY,EACjBd,IAAAK,EAAA,CAAQD,MAAR,CAAiBW,IAEjB,IAAI,EAAiB,CAAjB,CAAAf,GAAAG,EAAA,CAAQH,GAAAkB,GAAR,EAAuC,CAAvC,CAAsBlB,GAAAK,EAAtB,CAA8BL,GAAAmB,GAA9B,EACAnB,GAAAG,EADA,CACQH,GAAAoB,GADR,CACiBb,IAAA,CAAK,CAAL,CADjB,EAC4BP,GAAAK,EAD5B,CACoCL,GAAAqB,GADpC,CAC6Cd,IAAA,CAAK,CAAL,CAD7C,CAAJ,CAAA,CAGI,GAAA,EAAA,EAAA,CAAA,CAAA,MAAA,CAAA,CAAA,CA8N4B,CAAA,CAAA,CA9NjB,EAAA,CAAA,IAAA,CAAA,CAAA,CA+NnBe,GAAA,GAAO,CACHC,KAAAA,CAhOevB,GAgONuB,OAFuB,KAGhCC,EAjOexB,GAiOXf,MAAJuC,EAAiB,CACjBC,KAAAA,KAlOezB,GAkOVG,EAALsB,EAAcD,CAAdC,EAAmB,CAAnBA,CAMJ,KAVoC,IAKhCC,GAAKD,IAALC,CAAU,GALsB,CAMhCC,IAAM,EAANA,CAAWD,EANqB,CAOhCE,EArOe5B,GAqOXqB,GAAJO,CArOe5B,GAqOFmB,GAPmB,CAQhChB,GAtOeH,GAsOVK,EAALF,CAtOeH,GAsOFmB,GAAbhB,EAAuBmB,EAAvBnB,EAA6BsB,IAA7BtB,EAAmC,CAAnCA,CARgC,CAU3B0B,EAAI,CAAb,CAAgBA,CAAhB,CAAoBD,CAApB,CAAuBC,CAAA,EAAvB,CAA4B,CAE1B,IAAK,IAAIC,EADTC,IACSD,CADF,CACP,CAAgBA,CAAhB,EAAqBN,CAArB,CAAwBM,CAAA,EAAxB,CACE,IAAMC,IAAN,EAAcJ,GAAd,EAAsBG,CAAA,CAAIN,CAAJ,EAASO,IAAT,CAAgBR,IAAA,CAAOM,CAAP,CAAWL,CAAX,CAAeM,CAAf,CAAhB,IAAuCJ,EAAvC,CAA4C,CAAlE,GA3Oe3B,KA4OT,CAAMI,CAAN,CAAU2B,CAAV,CADN,CACoB,CAAA,EAAA,CAAO,CAAA,CAAP,OAAA,CAAA,CAEtB3B,CAAA,EAAKmB,EANqB,CAQ5B,EAAA,CAAO,CAAA,CAlB6B,CA9NjB,EAAA,CAAA,CAAA,EAAX,CAAJ,GAAI,EAAJ,GACM,CAACrB,MADP,EAC8BD,GA4P3BG,EA7PH,CAC8BH,GA4PrBoB,GA7PT,CACmCnB,MA4PnB,CAAE,CAAF,CAAAE,EA7PhB,EAC8BH,GA4PJG,EA7P1B,CAC8BH,GA4PEkB,GA7PhC;AACmCjB,MA4PI,CAAE,CAAF,CAAAE,EA7PvC,EAC8BH,GA4PmBK,EA7PjD,CAC8BL,GA4PyBqB,GA7PvD,CACmCpB,MA4P2B,CAAE,CAAF,CAAAI,EA7P9D,EAC8BL,GA4P0CK,EA7PxE,CAC8BL,GA4PgDmB,GA7P9E,CACmClB,MA4PkD,CAAE,CAAF,CAAAI,EA7PrF,EAC4C,CACpCkB,MAAAA,CAASvB,GAAAuB,OACTC,OAAAA,CAAIxB,GAAAf,MAAJuC,EAAiB,CACjBF,OAAAA,CAAKf,IAAA,CAAK,CAAL,CAALe,EAAgB,CAChBG,EAAAA,CAAKzB,GAAAG,EAALsB,EAAcD,MAAdC,EAAmB,CAAnBA,CACAC,SAAAA,CAAKD,CAALC,CAAU,GACVC,EAAAA,CAAM,EAANA,CAAWD,QACXE,GAAAA,CAAI5B,GAAAqB,GAAJO,CAAa5B,GAAAmB,GACbhB,EAAAA,EAAKH,GAAAK,EAALF,CAAaH,GAAAmB,GAAbhB,EAAuBmB,MAAvBnB,EAA6BsB,CAA7BtB,EAAmC,CAAnCA,CAEJ,KAAS0B,IAAT,CAAa,CAAb,CAAgBA,IAAhB,CAAoBD,EAApB,CAAuBC,IAAA,EAAvB,CAA4B,CAE1B,IAASC,CAAT,CADAC,EACA,CADO,CACP,CAAgBD,CAAhB,EAAqBN,MAArB,CAAwBM,CAAA,EAAxB,CACE/B,KAAA,CAAMI,CAAN,CAAU2B,CAAV,CAAA,CAAA/B,KAAA,CAAMI,CAAN,CAAU2B,CAAV,CAAA,CAAiBC,EAAjB,EAAyBJ,CAAzB,EAAiCG,CAAA,CAAIN,MAAJ,EAASO,EAAT,CAAgBR,MAAA,CAAOM,IAAP,CAAWL,MAAX,CAAeM,CAAf,CAAhB,IAAuCJ,QAAvC,CAA4C,CAA7E,CAEFvB,EAAA,EAAKmB,MALqB,CAO5BtB,GAAAuB,OAAA,CAAa,IACb,OAAO,CAAA,CAlBiC,CAJ5C,CATwB,CAmC1B,MAAO,CAAA,CA9C0B,CAzEpB,IACXhB,KAAO,CAAC,GAAD,CAAM,GAAN,CADI,CAEXyB,IAFW,CAGXC,IAHW,CAIXC,QAJW,CAKXC,SALW,CAMXC,UANW,CAOXC,MAPW,CAQXC,OARW,CASX7B,OAAS8B,iBATE,CAUXC;AAAQ,EAVG,CAWX7B,OAASvB,IAAAuB,OAXE,CAYX7B,MAAQ,CAEN,OAAS2D,QAAQ,EAAG,CA4BxB,IA5BwB,IACpBC,gBAAkB3D,UAAA,CAAWN,UAAAO,OAAA,EAAX,CADE,CAEpBe,MAAQ4C,SAAA,EAAWpC,IAAA,CAAK,CAAL,CAAX,EAAsB,CAAtB,EAA2BA,IAAA,CAAK,CAAL,CAA3B,CAFY,CAGpBN,OAAS,IAHW,CAIpB2C,EAAIJ,KAAAhD,OAJgB,CAKpBsC,EAAK,EALe,CAMpBe,KAAO,EANa,CAOpBtD,KAAOiD,KAAAM,IAAA,CAAU,QAAQ,CAACC,CAAD,CAAI,CAC3B,MAAO,CACLf,KAAMA,IAAA,CAAKe,CAAL,CADD,CAELd,KAAMA,IAAA,CAAKc,CAAL,CAFD,CAGLC,MAAOb,SAAA,CAAUY,CAAV,CAHF,CAILE,OAAQb,UAAA,CAAWW,CAAX,CAJH,CAKLV,OAAQA,MAAA,CAAOU,CAAP,CALH,CAMLxC,KAAM,CAAC,CAAC2B,QAAA,CAASa,CAAT,CANH,CAOLT,QAASA,OAAA,CAAQS,CAAR,CAPJ,CAQLG,KAAM,CARD,CASLC,KAAM,CATD,CAUL/B,GAAI,CAVC,CAWLC,GAAI,CAXC,CAYLH,GAAI,CAZC,CAaLC,GAAI,CAbC,CAcLiC,QAAS,CAAA,CAdJ,CAeL7B,OAAQ,IAfH,CAgBL8B,MAAON,CAhBF,CADoB,CAAtB,CAAAO,KAAA,CAmBC,QAAQ,CAACC,CAAD,CAAIC,CAAJ,CAAO,CAAE,MAAOA,EAAAjD,KAAP,CAAgBgD,CAAAhD,KAAlB,CAnBhB,CAqBX,CAAO,EAAEuB,CAAT,CAAac,CAAb,CAAA,CAAgB,CACd,IAAIG,WAAIxD,IAAA,CAAKuC,CAAL,CACRiB,WAAA5C,EAAA,CAAOI,IAAA,CAAK,CAAL,CAAP,EAAkBI,MAAA,EAAlB;AAA6B,EAA7B,GAAqC,CACrCoC,WAAA1C,EAAA,CAAOE,IAAA,CAAK,CAAL,CAAP,EAAkBI,MAAA,EAAlB,CAA6B,EAA7B,GAAqC,CACrC8C,YAAA,CAAYf,eAAZ,CAA6BK,UAA7B,CAAgCxD,IAAhC,CAAsCuC,CAAtC,CACIiB,WAAAK,QAAJ,EAAiBtD,KAAA,CAAMC,KAAN,CAAagD,UAAb,CAAgB9C,MAAhB,CAAjB,GACE4C,IAAAa,KAAA,CAAUX,UAAV,CAKA,CAJI9C,MAAJ,CAAY0D,WAAA,CAAY1D,MAAZ,CAAoB8C,UAApB,CAAZ,CACK9C,MADL,CACc,CAAC,CAACE,EAAG4C,UAAA5C,EAAHA,CAAS4C,UAAA7B,GAAV,CAAgBb,EAAG0C,UAAA1C,EAAHA,CAAS0C,UAAA5B,GAAzB,CAAD,CAAiC,CAAChB,EAAG4C,UAAA5C,EAAHA,CAAS4C,UAAA3B,GAAV,CAAgBf,EAAG0C,UAAA1C,EAAHA,CAAS0C,UAAA1B,GAAzB,CAAjC,CAGd,CADA0B,UAAA5C,EACA,EADOI,IAAA,CAAK,CAAL,CACP,EADkB,CAClB,CAAAwC,UAAA1C,EAAA,EAAOE,IAAA,CAAK,CAAL,CAAP,EAAkB,CANpB,CALc,CAehB,MAAOsC,KA3CiB,CAFd,CA8GN,MAAQe,QAAQ,CAACC,CAAD,CAAI,CACxB,MAAIC,UAAAtE,OAAJ,EACEgD,KACO1D,CADC+E,CACD/E,CAAAA,KAFT,EAIS0D,KALe,CA9Gd,CAuHN,KAAOuB,QAAQ,CAACF,CAAD,CAAI,CACvB,MAAIC,UAAAtE,OAAJ;CACEe,IACOzB,CADA,CAAC,CAAC+E,CAAA,CAAE,CAAF,CAAF,CAAQ,CAACA,CAAA,CAAE,CAAF,CAAT,CACA/E,CAAAA,KAFT,EAISyB,IALc,CAvHb,CAgIN,KAAOyD,QAAQ,CAACH,CAAD,CAAI,CACvB,MAAIC,UAAAtE,OAAJ,EACEyC,IACOnD,CADAmF,OAAA,CAAQJ,CAAR,CACA/E,CAAAA,KAFT,EAISmD,IALc,CAhIb,CAyIN,UAAYiC,QAAQ,CAACL,CAAD,CAAI,CAC5B,MAAIC,UAAAtE,OAAJ,EACE2C,SACOrD,CADKmF,OAAA,CAAQJ,CAAR,CACL/E,CAAAA,KAFT,EAISqD,SALmB,CAzIlB,CAkJN,WAAagC,QAAQ,CAACN,CAAD,CAAI,CAC7B,MAAIC,UAAAtE,OAAJ,EACE4C,UACOtD,CADMmF,OAAA,CAAQJ,CAAR,CACN/E,CAAAA,KAFT,EAISsD,UALoB,CAlJnB,CA2JN,OAASgC,QAAQ,CAACP,CAAD,CAAI,CACzB,MAAIC,UAAAtE,OAAJ,EACE6C,MACOvD,CADEmF,OAAA,CAAQJ,CAAR,CACF/E,CAAAA,KAFT,EAISuD,MALgB,CA3Jf,CAoKN,KAAOgC,QAAQ,CAACR,CAAD,CAAI,CACvB,MAAIC,UAAAtE,OAAJ,EACEwC,IACOlD,CADAmF,OAAA,CAAQJ,CAAR,CACA/E,CAAAA,KAFT,EAISkD,IALc,CApKb,CA6KN,OAASsC,QAAQ,CAACT,CAAD,CAAI,CACzB,MAAIC,UAAAtE,OAAJ,EACEiB,MACO3B,CADEyF,OAAA,CAAQV,CAAR,CACF/E,EADgB+E,CAChB/E,CAAAA,KAFT,EAIS2B,MALgB,CA7Kf;AAsLN,SAAW+D,QAAQ,CAACX,CAAD,CAAI,CAC3B,MAAIC,UAAAtE,OAAJ,EACE0C,QACOpD,CADImF,OAAA,CAAQJ,CAAR,CACJ/E,CAAAA,KAFT,EAISoD,QALkB,CAtLjB,CA+LN,QAAUuC,QAAQ,CAACZ,CAAD,CAAI,CAC1B,MAAIC,UAAAtE,OAAJ,EACE8C,OACOxD,CADGmF,OAAA,CAAQJ,CAAR,CACH/E,CAAAA,KAFT,EAISwD,OALiB,CA/LhB,CAwMN,OAASoC,QAAQ,CAACb,CAAD,CAAI,CACzB,MAAIC,UAAAtE,OAAJ,EACEmB,MACO7B,CADE+E,CACF/E,CAAAA,KAFT,EAIS6B,MALgB,CAxMf,CAiNZ,OAAO7B,MA7NQ,CAkOjB2E,QAASA,YAAW,CAACf,eAAD,CAAkBK,CAAlB,CAAqBxD,IAArB,CAA2BoF,EAA3B,CAA+B,CACjD,GAAIpD,CAAAwB,CAAAxB,OAAJ,CAAA,CADiD,IAE7CqD,EAAIlC,eAAAhD,QAFyC,CAG7CP,MAAQuD,eAAAvD,MAEZyF,EAAAC,UAAA,CAAY,CAAZ,CAAe,CAAf,CAAmB,IAAnB,CAA8B1F,KAA9B,CAzOOM,IAyOP,CAA0CN,KAA1C,CALiD,KAO7CkB,EADAF,eACAE,CADI,CANyC,CAQ7CyE,KAAO,CARsC,CAS7ClC,EAAIrD,IAAAC,OAGR,KADA,EAAEmF,EACF,CAAO,EAAEA,EAAT,CAAc/B,CAAd,CAAA,CAAiB,CACfG,CAAA,CAAIxD,IAAA,CAAKoF,EAAL,CACJC,EAAAG,KAAA,EACAH,EAAA3C,KAAA,CAASc,CAAAC,MAAT;AAAmB,GAAnB,CAAyBD,CAAAE,OAAzB,CAAoC,GAApC,CAA0C,CAAC,GAAGF,CAAAxC,KAAH,CAAY,CAAZ,EAAiBpB,KAAjB,CAA3C,CAAqE,KAArE,CAA6E4D,CAAAd,KAC7E,KAAAT,EAAIoD,CAAAI,YAAA,CAAcjC,CAAAf,KAAd,CAAuB,GAAvB,CAAA/C,MAAJuC,CAAwCrC,KACxC,KAAAyC,EAAImB,CAAAxC,KAAJqB,EAAc,CACd,IAAImB,CAAAV,OAAJ,CAAc,CAAA,IACR4C,GAAK7F,IAAA8F,IAAA,CAASnC,CAAAV,OAAT,CAAoB8C,YAApB,CADG,CAERC,GAAKhG,IAAAiG,IAAA,CAAStC,CAAAV,OAAT,CAAoB8C,YAApB,CAFG,CAGRG,IAAM9D,CAAN8D,CAAUF,EAHF,CAIRG,IAAM/D,CAAN+D,CAAUN,EACVO,GAAAA,EAAM5D,CACN6D,EAAAA,CAAM7D,CAAN6D,CAAUR,EACdzD,EAAA,CAAKpC,IAAAsG,IAAA,CAAStG,IAAA6B,IAAA,CAASqE,GAAT,CAAeG,CAAf,CAAT,CAA8BrG,IAAA6B,IAAA,CAASqE,GAAT,CAAeG,CAAf,CAA9B,CAAL,CAA0D,EAA1D,EAAmE,CAAnE,EAAwE,CACxE7D,EAAA,CAAI,CAAC,CAACxC,IAAAsG,IAAA,CAAStG,IAAA6B,IAAA,CAASsE,GAAT,CAAeC,EAAf,CAAT,CAA8BpG,IAAA6B,IAAA,CAASsE,GAAT,CAAeC,EAAf,CAA9B,CARM,CAAd,IAUEhE,EAAA,CAAKA,CAAL,CAAS,EAAT,EAAkB,CAAlB,EAAuB,CAErBI,EAAJ,CAAQkD,IAAR,GAAcA,IAAd,CAAqBlD,CAArB,CACc,KAAd,EAAIzB,eAAJ,CAAQqB,CAAR,GACErB,eAEA,CAFI,CAEJ,CADAE,CACA,EADKyE,IACL,CAAAA,IAAA,CAAO,CAHT,CAKA,IAxQKrF,IAwQL,EAAIY,CAAJ,CAAQuB,CAAR,CAAiB,KACjBgD,EAAAe,UAAA,EAAaxF,eAAb,EAAkBqB,CAAlB,EAAuB,CAAvB,GAA6BrC,KAA7B,EAAqCkB,CAArC,EAA0CuB,CAA1C,EAA+C,CAA/C,GAAqDzC,KAArD,CACI4D;CAAAV,OAAJ,EAAcuC,CAAAvC,OAAA,CAASU,CAAAV,OAAT,CAAoB8C,YAApB,CACdP,EAAAgB,SAAA,CAAW7C,CAAAf,KAAX,CAAmB,CAAnB,CAAsB,CAAtB,CACIe,EAAAT,QAAJ,GACEsC,CAAAiB,UACA,CADc,CACd,CADkB9C,CAAAT,QAClB,CAAAsC,CAAAkB,WAAA,CAAa/C,CAAAf,KAAb,CAAqB,CAArB,CAAwB,CAAxB,CAFF,CAIA4C,EAAAmB,QAAA,EACAhD,EAAA9D,MAAA,CAAUuC,CACVuB,EAAA7D,OAAA,CAAW0C,CACXmB,EAAAG,KAAA,CAAS/C,eACT4C,EAAAI,KAAA,CAAS9C,CACT0C,EAAA3B,GAAA,CAAOI,CAAP,EAAY,CACZuB,EAAA1B,GAAA,CAAOO,CAAP,EAAY,CACZmB,EAAA7B,GAAA,CAAO,CAAC6B,CAAA3B,GACR2B,EAAA5B,GAAA,CAAO,CAAC4B,CAAA1B,GACR0B,EAAAK,QAAA,CAAY,CAAA,CACZjD,gBAAA,EAAKqB,CA1CU,CA4CbwE,CAAAA,CAASpB,CAAAtF,aAAA,CAAe,CAAf,CAAkB,CAAlB,CAAsB,IAAtB,CAAiCH,KAAjC,CA5RNM,IA4RM,CAA6CN,KAA7C,CAAAI,KAEb,KADIgC,GACJ,CADa,EACb,CAAe,CAAf,EAAO,EAAEoD,EAAT,CAAA,CAEE,GADA5B,CACKK,CADD7D,IAAA,CAAKoF,EAAL,CACCvB,CAAAL,CAAAK,QAAL,CAAA,CACA5B,CAAA,CAAIuB,CAAA9D,MACJgH,EAAA,CAAMzE,CAAN,EAAW,CACXI,EAAA,CAAImB,CAAA1B,GAAJ,CAAW0B,CAAA5B,GAEX,KAAKW,KAAL,CAAS,CAAT,CAAYA,KAAZ,CAAgBF,CAAhB,CAAoBqE,CAApB,CAAyBnE,KAAA,EAAzB,CAA8BP,GAAA,CAAOO,KAAP,CAAA,CAAY,CAC1C3B,gBAAA,CAAI4C,CAAAG,KACJ,IAAS,IAAT,EAAI/C,eAAJ,CAAe,KACfE,EAAA,CAAI0C,CAAAI,KACA+C,IAAAA,CAAO,CACPC;EAAAA,CAAW,EACf,KAAKtE,IAAL,CAAS,CAAT,CAAYA,IAAZ,CAAgBD,CAAhB,CAAmBC,IAAA,EAAnB,CAAwB,CACtB,IAAKC,KAAL,CAAS,CAAT,CAAYA,KAAZ,CAAgBN,CAAhB,CAAmBM,KAAA,EAAnB,CAEMsE,EAEJ,CAFQJ,CAAA,CAAmB,IAAnB,EAAS3F,CAAT,CAAawB,IAAb,GAA+B1B,eAA/B,CAAmC2B,KAAnC,GAA0C,CAA1C,CAAA,CAA+C,CAA/C,EAAqD,EAArD,CAA2DA,KAA3D,CAA+D,EAA/D,CAAsE,CAE9E,CADAP,GAAA,CAFQ0E,CAER,CAFcpE,IAEd,EAFmBC,KAEnB,EAFwB,CAExB,EACA,EADasE,EACb,CAAAF,GAAA,EAAQE,EAENF,IAAJ,CAAUC,EAAV,CAAoBtE,IAApB,EAEEkB,CAAA5B,GAAA,EAGA,CAFAS,CAAA,EAEA,CADAC,IAAA,EACA,CAAAxB,CAAA,EALF,CAPsB,CAexB0C,CAAA1B,GAAA,CAAO0B,CAAA5B,GAAP,CAAcgF,EACdpD,EAAAxB,OAAA,CAAWA,GAAA8E,MAAA,CAAa,CAAb,EAAiBtD,CAAA1B,GAAjB,CAAwB0B,CAAA5B,GAAxB,EAAgC8E,CAAhC,CA3BX,CA3DF,CADiD,CAiHnDtC,QAASA,YAAW,CAAC1D,MAAD,CAAS8C,CAAT,CAAY,CAAA,IAC1BuD,GAAKrG,MAAA,CAAO,CAAP,CACLsG,OAAAA,CAAKtG,MAAA,CAAO,CAAP,CACL8C,EAAA5C,EAAJ,CAAU4C,CAAA7B,GAAV,CAAiBoF,EAAAnG,EAAjB,GAAuBmG,EAAAnG,EAAvB,CAA8B4C,CAAA5C,EAA9B,CAAoC4C,CAAA7B,GAApC,CACI6B,EAAA1C,EAAJ,CAAU0C,CAAA5B,GAAV,CAAiBmF,EAAAjG,EAAjB,GAAuBiG,EAAAjG,EAAvB,CAA8B0C,CAAA1C,EAA9B,CAAoC0C,CAAA5B,GAApC,CACI4B,EAAA5C,EAAJ,CAAU4C,CAAA3B,GAAV,CAAiBmF,MAAApG,EAAjB,GAAuBoG,MAAApG,EAAvB,CAA8B4C,CAAA5C,EAA9B,CAAoC4C,CAAA3B,GAApC,CACI2B,EAAA1C,EAAJ,CAAU0C,CAAA1B,GAAV,CAAiBkF,MAAAlG,EAAjB,GAAuBkG,MAAAlG,EAAvB,CAA8B0C,CAAA1C,EAA9B,CAAoC0C,CAAA1B,GAApC,CAN8B,CAahCkB,QAASA,kBAAiB,CAAChC,IAAD,CAAO,CAC/B,IAAIiG,EAAIjG,IAAA,CAAK,CAAL,CAAJiG,CAAcjG,IAAA,CAAK,CAAL,CAClB;MAAO,SAAQ,CAACK,CAAD,CAAI,CACjB,MAAO,CAAC4F,CAAD,EAAM5F,CAAN,EAAW,EAAX,EAAiBxB,IAAAiG,IAAA,CAASzE,CAAT,CAAjB,CAA8BA,CAA9B,CAAkCxB,IAAA8F,IAAA,CAAStE,CAAT,CAAlC,CADU,CAFY,CA0BjC+B,QAASA,UAAS,CAACC,CAAD,CAAI,CAGpB,IAHoB,IAChBW,EAAI,EADY,CAEhBzB,EAAK,EACT,CAAO,EAAEA,CAAT,CAAac,CAAb,CAAA,CAAgBW,CAAA,CAAEzB,CAAF,CAAA,CAAO,CACvB,OAAOyB,EAJa,CAOtBU,QAASA,QAAO,CAAClB,CAAD,CAAI,CAClB,MAAoB,UAAb,GAAA,MAAOA,EAAP,CAA0BA,CAA1B,CAA8B,QAAQ,EAAG,CAAE,MAAOA,EAAT,CAD9B,CAapB0D,QAASA,UAAS,CAACC,MAAD,CAAS,CACzBhI,YAAAiI,UAAAC,KAAA,CAA4B,IAA5B,CAAkC9H,KAAA,EAAlC,CAA2C4H,MAA3C,CADyB,CAmG3BG,QAASA,OAAM,CAACC,KAAD,CAAQvH,IAAR,CAAc,CAO3B,IAP2B,IACvByB,IAAO+F,QADgB,CAEvBrB,IAAM,CAACqB,QAFgB,CAGvBjF,EAAI,CAHmB,CAIvBc,EAAIrD,IAAAC,OAJmB,CAKvBwH,CAEJ,CAAOlF,CAAP,CAASc,CAAT,CAAY,EAAEd,CAAd,CACEkF,CAEA,CAFIF,KAAA,CAAMvH,IAAA,CAAKuC,CAAL,CAAN,CAEJ,CADIkF,CACJ,CADQhG,GACR,GADaA,GACb,CADmBgG,CACnB,EAAIA,CAAJ,CAAQtB,GAAR,GAAaA,GAAb,CAAmBsB,CAAnB,CAGF,OAAO,CAAChG,GAAD,CAAM0E,GAAN,CAboB,CAvhB2D,IAkCpFP,aAAe/F,IAAA6H,GAAf9B,CAAyB,GAlC2D,CA2apFZ,QAAU,CACZ2C,YAAa3E,iBADD,CAEZ4E,YAhCFC,QAA0B,CAAC7G,IAAD,CAAO,CAAA,IAE3BO;AADKC,CACLD,CAAUP,IAAA,CAAK,CAAL,CAAVO,CAAoBP,IAAA,CAAK,CAAL,CAFO,CAG3BJ,EAAI,CAHuB,CAI3BE,EAAI,CACR,OAAO,SAAQ,CAACO,CAAD,CAAI,CACjB,IAAIyG,KAAW,CAAJ,CAAAzG,CAAA,CAAS,EAAT,CAAa,CAExB,QAASxB,IAAAC,KAAA,CAAU,CAAV,CAAc,CAAd,CAAkBgI,IAAlB,CAAyBzG,CAAzB,CAAT,CAAuCyG,IAAvC,CAA+C,CAA/C,EACE,KAAK,CAAL,CAASlH,CAAA,EAAKW,EAAI,MAClB,MAAK,CAAL,CAAST,CAAA,EATJU,CASa,MAClB,MAAK,CAAL,CAASZ,CAAA,EAAKW,EAAI,MAClB,SAAST,CAAA,EAXJU,CAOP,CAMA,MAAO,CAACZ,CAAD,CAAIE,CAAJ,CATU,CALY,CA8BnB,CA3a0E,CAgbpFiH,OAAS,8CAAA,MAAA,CAAA,GAAA,CAhb2E,CAkbpFC,OAAS,gDAAA,MAAA,CAAA,GAAA,CAMbd,UAAAe,WAAA,CAAuB,CACrB,KAAQ,WADa,CAErB,SAAY,CAAC,SAAY,CAAA,CAAb,CAFS,CAGrB,OAAU,CACR,CAAE,KAAQ,MAAV,CAAkB,KAAQ,QAA1B,CAAoC,MAAS,CAAA,CAA7C,CAAmD,OAAU,CAA7D,CADQ,CAER,CAAE,KAAQ,MAAV,CAAkB,KAAQ,QAA1B,CAAoC,KAAQ,CAAA,CAA5C,CAAkD,UAAW,YAA7D,CAFQ,CAGR,CAAE,KAAQ,WAAV;AAAuB,KAAQ,QAA/B,CAAyC,KAAQ,CAAA,CAAjD,CAAuD,UAAW,QAAlE,CAHQ,CAIR,CAAE,KAAQ,YAAV,CAAwB,KAAQ,QAAhC,CAA0C,KAAQ,CAAA,CAAlD,CAAwD,UAAW,QAAnE,CAJQ,CAKR,CAAE,KAAQ,UAAV,CAAsB,KAAQ,QAA9B,CAAwC,KAAQ,CAAA,CAAhD,CAAsD,UAAW,EAAjE,CALQ,CAMR,CAAE,KAAQ,eAAV,CAA2B,KAAQ,QAAnC,CAA6C,MAAS,UAAtD,CAAkE,UAAW,CAAC,EAAD,CAAK,EAAL,CAA7E,CANQ,CAOR,CAAE,KAAQ,QAAV,CAAoB,KAAQ,QAA5B,CAAsC,KAAQ,CAAA,CAA9C,CAAoD,UAAW,CAA/D,CAPQ,CAQR,CAAE,KAAQ,MAAV,CAAkB,KAAQ,OAA1B,CARQ,CASR,CAAE,KAAQ,QAAV,CAAoB,KAAQ,QAA5B,CAAsC,OAAU,CAAC,aAAD,CAAgB,aAAhB,CAAhD,CATQ,CAUR,CAAE,KAAQ,SAAV,CAAqB,KAAQ,QAA7B,CAAuC,KAAQ,CAAA,CAA/C,CAVQ,CAWR,CAAE,KAAQ,IAAV,CAAgB,KAAQ,QAAxB,CAAkC,MAAS,CAAA,CAA3C,CAAiD,OAAU,CAA3D,CAA8D,UAAWF,MAAzE,CAXQ,CAHW,CAkBP3I,SAAA8I,SAAAC,CAAkBjB,SAAlBiB;AAA6BhJ,YAAAiI,UAA7Be,CAEhBC,UAAA,CAAsBC,QAAQ,CAAC/D,CAAD,CAAIgE,KAAJ,CAAW,CAKvCC,QAASA,KAAI,CAACC,KAAD,CAAQ,CACfC,KAAAA,CAAInE,CAAA,CAAEkE,KAAF,CACR,OAAOpJ,SAAAsJ,WAAA,CAAoBD,KAApB,CAAP,EAAiCH,KAAAK,SAAA,CAAeF,KAAAG,OAAf,CAFd,CAJjB5H,CAAAsD,CAAAtD,KAAJ,EAAgBsD,CAAAtD,KAAA,CAAO,CAAP,CAAhB,EAA6BsD,CAAAtD,KAAA,CAAO,CAAP,CAA7B,EACE5B,QAAAyJ,MAAA,CAAe,6CAAf,CAQF,KAAIC,IAAMxE,CAAAqE,SAAA,EACV,IAAMG,GAAN,EAAaR,KAAAS,QAAA,CAAcT,KAAAU,QAAd,CAAb,EAA6ChB,MAAAiB,KAAA,CAAYV,IAAZ,CAA7C,CAAA,CAXuC,IAanCvI,KAAOsI,KAAAY,YAAA,CAAkBZ,KAAAa,OAAlB,CAAAC,OAb4B,CAcnCC,OAAS,IAAAC,MAd0B,CAenCC,GAAKjF,CAAAiF,GAALA,EAAaxB,MAfsB,CAgBnCpF,SAAW2B,CAAA3B,SAAXA,EAAyB,EAhBU,CAiBnC6G,KAEJpK,SAAAsJ,WAAA,CAAoB/F,QAApB,CAAA,CACK6G,KADL,CACalF,CAAAmF,cADb,CAEK9G,QAFL,CAEgBvD,QAAAsK,SAAA,CAAkB/G,QAAlB,CAGhB;GAAI6G,KAAJ,CAAW,CAAA,IACLG,MAAQhH,QADH,CAELiH,UAAYvK,SAAAwK,MAAA,CAAgB,MAAhB,CAAA,EAAAC,OAAA,CACFxC,MAAA,CAAOqC,KAAP,CAAc3J,IAAd,CADE,CAAAwJ,MAAA,CAEHA,KAFG,CAGhB7G,SAAA,CAAWA,QAAQ,CAAC/B,CAAD,CAAI,CAAE,MAAOgJ,UAAA,CAAUD,KAAA,CAAM/I,CAAN,CAAV,CAAT,CALd,CAQXZ,IAAA+J,QAAA,CAAa,QAAQ,CAAC1I,CAAD,CAAI,CACvBA,CAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAAA,CAAWS,GACX3I,EAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAAA,CAAWS,GACX3I,EAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAAA,CAAW,CAHY,CAAzB,CAOItG,KAAAA,CAAQoG,MAAApG,MAAA,CACHjD,IADG,CAAAyC,KAAA,CAEJ6B,CAAA7B,KAFI,CAAAzB,KAAA,CAGJsD,CAAAtD,KAHI,EAGM,CAAC,GAAD,CAAM,GAAN,CAHN,CAAA+B,QAAA,CAIDuB,CAAAvB,QAJC,EAIY,CAJZ,CAAA7B,OAAA,CAKFoD,CAAApD,OALE,EAKU,aALV,CAAA4B,OAAA,CAMFwB,CAAAxB,OANE,EAMU,CANV,CAAAJ,KAAA,CAOJ4B,CAAA5B,KAPI,EAOM,YAPN,CAAAE,UAAA,CAQC0B,CAAA1B,UARD,EAQgB,QARhB,CAAAC,WAAA,CASEyB,CAAAzB,WATF,EASkB,QATlB,CAAAF,SAAA,CAUAA,QAVA,CAAAvB,OAAA,CAWF9B,cAAA8B,OAXE,CAAAiI,OAAA,EAcRrI;QAAAA,CAAOqI,MAAArI,KAAA,EACPO,OAAAA,CAAKP,QAAA,CAAK,CAAL,CAALO,EAAgB,CAChBC,SAAAA,CAAKR,QAAA,CAAK,CAAL,CAALQ,EAAgB,CAChBe,MAAAA,CAAI,CAIR,KA5DuC,IAyDnCc,EAAIJ,IAAAhD,OAzD+B,CA0DnCgC,CA1DmC,CA0DhCZ,UAEP,CAAOkB,KAAP,CAASc,CAAT,CAAY,EAAEd,KAAd,CACEN,CAQA,CARIgB,IAAA,CAAMV,KAAN,CAQJ,CAPAlB,UAOA,CAPIY,CAAA6B,MAOJ,CANAzC,UAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAMA,CANWtH,CAAArB,EAMX,CANiBW,MAMjB,CALAF,UAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAKA,CALWtH,CAAAnB,EAKX,CALiBU,QAKjB,CAJAH,UAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAIA,CAJWtH,CAAAS,KAIX,CAHArB,UAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAGA,CAHWtH,CAAAjB,KAGX,CAFAK,UAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAEA,CAFWtH,CAAAwB,MAEX,CADApC,UAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CACA,CADWtH,CAAAyB,OACX,CAAArC,UAAA,CAAEkI,EAAA,CAAG,CAAH,CAAF,CAAA,CAAWtH,CAAAa,OAGb,OAAOwF,MAAA2B,OAAA,CAAanB,GAAb,CAAAoB,SAAA,CAA2BX,EAA3B,CA7DP,CAXuC,CA2FzC7K,QAAAyL,UAAA,CAAoBjD,SAEpBkD,OAAAC,eAAA,CAAsB3L,OAAtB,CAA+B,YAA/B,CAA6C,CAAE4K,MAAO,CAAA,CAAT,CAA7C,CAziBwF,CAJzF,CADwI;",
"sources":["node_modules/vega-wordcloud/build/vega-wordcloud.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$vega_wordcloud$build$vega_wordcloud\"] = function(global,process,require,module,exports,shadow$shims) {\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('vega-canvas'), require('vega-dataflow'), require('vega-util'), require('vega-scale'), require('vega-statistics')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'vega-canvas', 'vega-dataflow', 'vega-util', 'vega-scale', 'vega-statistics'], factory) :\n  (global = global || self, factory((global.vega = global.vega || {}, global.vega.transforms = {}), global.vega, global.vega, global.vega, global.vega, global.vega));\n}(this, function (exports, vegaCanvas, vegaDataflow, vegaUtil, vegaScale, vegaStatistics) { 'use strict';\n\n  /*\n  Copyright (c) 2013, Jason Davies.\n  All rights reserved.\n\n  Redistribution and use in source and binary forms, with or without\n  modification, are permitted provided that the following conditions are met:\n\n    * Redistributions of source code must retain the above copyright notice, this\n      list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above copyright notice,\n      this list of conditions and the following disclaimer in the documentation\n      and/or other materials provided with the distribution.\n\n    * The name Jason Davies may not be used to endorse or promote products\n      derived from this software without specific prior written permission.\n\n  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n  DISCLAIMED. IN NO EVENT SHALL JASON DAVIES BE LIABLE FOR ANY DIRECT, INDIRECT,\n  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n  LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF\n  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n  OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n  ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n  */\n\n  // Word cloud layout by Jason Davies, https://www.jasondavies.com/wordcloud/\n  // Algorithm due to Jonathan Feinberg, http://static.mrfeinberg.com/bv_ch03.pdf\n\n  var cloudRadians = Math.PI / 180,\n      cw = 1 << 11 >> 5,\n      ch = 1 << 11;\n\n  function cloud() {\n    var size = [256, 256],\n        text,\n        font,\n        fontSize,\n        fontStyle,\n        fontWeight,\n        rotate,\n        padding,\n        spiral = archimedeanSpiral,\n        words = [],\n        random = Math.random,\n        cloud = {};\n\n    cloud.layout = function() {\n      var contextAndRatio = getContext(vegaCanvas.canvas()),\n          board = zeroArray((size[0] >> 5) * size[1]),\n          bounds = null,\n          n = words.length,\n          i = -1,\n          tags = [],\n          data = words.map(function(d) {\n            return {\n              text: text(d),\n              font: font(d),\n              style: fontStyle(d),\n              weight: fontWeight(d),\n              rotate: rotate(d),\n              size: ~~fontSize(d),\n              padding: padding(d),\n              xoff: 0,\n              yoff: 0,\n              x1: 0,\n              y1: 0,\n              x0: 0,\n              y0: 0,\n              hasText: false,\n              sprite: null,\n              datum: d\n            };\n          }).sort(function(a, b) { return b.size - a.size; });\n\n      while (++i < n) {\n        var d = data[i];\n        d.x = (size[0] * (random() + .5)) >> 1;\n        d.y = (size[1] * (random() + .5)) >> 1;\n        cloudSprite(contextAndRatio, d, data, i);\n        if (d.hasText && place(board, d, bounds)) {\n          tags.push(d);\n          if (bounds) cloudBounds(bounds, d);\n          else bounds = [{x: d.x + d.x0, y: d.y + d.y0}, {x: d.x + d.x1, y: d.y + d.y1}];\n          // Temporary hack\n          d.x -= size[0] >> 1;\n          d.y -= size[1] >> 1;\n        }\n      }\n\n      return tags;\n    };\n\n    function getContext(canvas) {\n      canvas.width = canvas.height = 1;\n      var ratio = Math.sqrt(canvas.getContext(\"2d\").getImageData(0, 0, 1, 1).data.length >> 2);\n      canvas.width = (cw << 5) / ratio;\n      canvas.height = ch / ratio;\n\n      var context = canvas.getContext(\"2d\");\n      context.fillStyle = context.strokeStyle = \"red\";\n      context.textAlign = \"center\";\n\n      return {context: context, ratio: ratio};\n    }\n\n    function place(board, tag, bounds) {\n      var startX = tag.x,\n          startY = tag.y,\n          maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]),\n          s = spiral(size),\n          dt = random() < .5 ? 1 : -1,\n          t = -dt,\n          dxdy,\n          dx,\n          dy;\n\n      while (dxdy = s(t += dt)) {\n        dx = ~~dxdy[0];\n        dy = ~~dxdy[1];\n\n        if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta) break;\n\n        tag.x = startX + dx;\n        tag.y = startY + dy;\n\n        if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 ||\n            tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1]) continue;\n        // TODO only check for collisions within current bounds.\n        if (!bounds || !cloudCollide(tag, board, size[0])) {\n          if (!bounds || collideRects(tag, bounds)) {\n            var sprite = tag.sprite,\n                w = tag.width >> 5,\n                sw = size[0] >> 5,\n                lx = tag.x - (w << 4),\n                sx = lx & 0x7f,\n                msx = 32 - sx,\n                h = tag.y1 - tag.y0,\n                x = (tag.y + tag.y0) * sw + (lx >> 5),\n                last;\n            for (var j = 0; j < h; j++) {\n              last = 0;\n              for (var i = 0; i <= w; i++) {\n                board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n              }\n              x += sw;\n            }\n            tag.sprite = null;\n            return true;\n          }\n        }\n      }\n      return false;\n    }\n\n    cloud.words = function(_) {\n      if (arguments.length) {\n        words = _;\n        return cloud;\n      } else {\n        return words;\n      }\n    };\n\n    cloud.size = function(_) {\n      if (arguments.length) {\n        size = [+_[0], +_[1]];\n        return cloud;\n      } else {\n        return size;\n      }\n    };\n\n    cloud.font = function(_) {\n      if (arguments.length) {\n        font = functor(_);\n        return cloud;\n      } else {\n        return font;\n      }\n    };\n\n    cloud.fontStyle = function(_) {\n      if (arguments.length) {\n        fontStyle = functor(_);\n        return cloud;\n      } else {\n        return fontStyle;\n      }\n    };\n\n    cloud.fontWeight = function(_) {\n      if (arguments.length) {\n        fontWeight = functor(_);\n        return cloud;\n      } else {\n        return fontWeight;\n      }\n    };\n\n    cloud.rotate = function(_) {\n      if (arguments.length) {\n        rotate = functor(_);\n        return cloud;\n      } else {\n        return rotate;\n      }\n    };\n\n    cloud.text = function(_) {\n      if (arguments.length) {\n        text = functor(_);\n        return cloud;\n      } else {\n        return text;\n      }\n    };\n\n    cloud.spiral = function(_) {\n      if (arguments.length) {\n        spiral = spirals[_] || _;\n        return cloud;\n      } else {\n        return spiral;\n      }\n    };\n\n    cloud.fontSize = function(_) {\n      if (arguments.length) {\n        fontSize = functor(_);\n        return cloud;\n      } else {\n        return fontSize;\n      }\n    };\n\n    cloud.padding = function(_) {\n      if (arguments.length) {\n        padding = functor(_);\n        return cloud;\n      } else {\n        return padding;\n      }\n    };\n\n    cloud.random = function(_) {\n      if (arguments.length) {\n        random = _;\n        return cloud;\n      } else {\n        return random;\n      }\n    };\n\n    return cloud;\n  }\n\n  // Fetches a monochrome sprite bitmap for the specified text.\n  // Load in batches for speed.\n  function cloudSprite(contextAndRatio, d, data, di) {\n    if (d.sprite) return;\n    var c = contextAndRatio.context,\n        ratio = contextAndRatio.ratio;\n\n    c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n    var x = 0,\n        y = 0,\n        maxh = 0,\n        n = data.length,\n        w, w32, h, i, j;\n    --di;\n    while (++di < n) {\n      d = data[di];\n      c.save();\n      c.font = d.style + \" \" + d.weight + \" \" + ~~((d.size + 1) / ratio) + \"px \" + d.font;\n      w = c.measureText(d.text + \"m\").width * ratio;\n      h = d.size << 1;\n      if (d.rotate) {\n        var sr = Math.sin(d.rotate * cloudRadians),\n            cr = Math.cos(d.rotate * cloudRadians),\n            wcr = w * cr,\n            wsr = w * sr,\n            hcr = h * cr,\n            hsr = h * sr;\n        w = (Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5 << 5;\n        h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n      } else {\n        w = (w + 0x1f) >> 5 << 5;\n      }\n      if (h > maxh) maxh = h;\n      if (x + w >= (cw << 5)) {\n        x = 0;\n        y += maxh;\n        maxh = 0;\n      }\n      if (y + h >= ch) break;\n      c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n      if (d.rotate) c.rotate(d.rotate * cloudRadians);\n      c.fillText(d.text, 0, 0);\n      if (d.padding) {\n        c.lineWidth = 2 * d.padding;\n        c.strokeText(d.text, 0, 0);\n      }\n      c.restore();\n      d.width = w;\n      d.height = h;\n      d.xoff = x;\n      d.yoff = y;\n      d.x1 = w >> 1;\n      d.y1 = h >> 1;\n      d.x0 = -d.x1;\n      d.y0 = -d.y1;\n      d.hasText = true;\n      x += w;\n    }\n    var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data,\n        sprite = [];\n    while (--di >= 0) {\n      d = data[di];\n      if (!d.hasText) continue;\n      w = d.width;\n      w32 = w >> 5;\n      h = d.y1 - d.y0;\n      // Zero the buffer\n      for (i = 0; i < h * w32; i++) sprite[i] = 0;\n      x = d.xoff;\n      if (x == null) return;\n      y = d.yoff;\n      var seen = 0,\n          seenRow = -1;\n      for (j = 0; j < h; j++) {\n        for (i = 0; i < w; i++) {\n          var k = w32 * j + (i >> 5),\n              m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n          sprite[k] |= m;\n          seen |= m;\n        }\n        if (seen) seenRow = j;\n        else {\n          d.y0++;\n          h--;\n          j--;\n          y++;\n        }\n      }\n      d.y1 = d.y0 + seenRow;\n      d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n    }\n  }\n\n  // Use mask-based collision detection.\n  function cloudCollide(tag, board, sw) {\n    sw >>= 5;\n    var sprite = tag.sprite,\n        w = tag.width >> 5,\n        lx = tag.x - (w << 4),\n        sx = lx & 0x7f,\n        msx = 32 - sx,\n        h = tag.y1 - tag.y0,\n        x = (tag.y + tag.y0) * sw + (lx >> 5),\n        last;\n    for (var j = 0; j < h; j++) {\n      last = 0;\n      for (var i = 0; i <= w; i++) {\n        if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0))\n            & board[x + i]) return true;\n      }\n      x += sw;\n    }\n    return false;\n  }\n\n  function cloudBounds(bounds, d) {\n    var b0 = bounds[0],\n        b1 = bounds[1];\n    if (d.x + d.x0 < b0.x) b0.x = d.x + d.x0;\n    if (d.y + d.y0 < b0.y) b0.y = d.y + d.y0;\n    if (d.x + d.x1 > b1.x) b1.x = d.x + d.x1;\n    if (d.y + d.y1 > b1.y) b1.y = d.y + d.y1;\n  }\n\n  function collideRects(a, b) {\n    return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n  }\n\n  function archimedeanSpiral(size) {\n    var e = size[0] / size[1];\n    return function(t) {\n      return [e * (t *= .1) * Math.cos(t), t * Math.sin(t)];\n    };\n  }\n\n  function rectangularSpiral(size) {\n    var dy = 4,\n        dx = dy * size[0] / size[1],\n        x = 0,\n        y = 0;\n    return function(t) {\n      var sign = t < 0 ? -1 : 1;\n      // See triangular numbers: T_n = n * (n + 1) / 2.\n      switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n        case 0:  x += dx; break;\n        case 1:  y += dy; break;\n        case 2:  x -= dx; break;\n        default: y -= dy; break;\n      }\n      return [x, y];\n    };\n  }\n\n  // TODO reuse arrays?\n  function zeroArray(n) {\n    var a = [],\n        i = -1;\n    while (++i < n) a[i] = 0;\n    return a;\n  }\n\n  function functor(d) {\n    return typeof d === \"function\" ? d : function() { return d; };\n  }\n\n  var spirals = {\n    archimedean: archimedeanSpiral,\n    rectangular: rectangularSpiral\n  };\n\n  var Output = ['x', 'y', 'font', 'fontSize', 'fontStyle', 'fontWeight', 'angle'];\n\n  var Params = ['text', 'font', 'rotate', 'fontSize', 'fontStyle', 'fontWeight'];\n\n  function Wordcloud(params) {\n    vegaDataflow.Transform.call(this, cloud(), params);\n  }\n\n  Wordcloud.Definition = {\n    \"type\": \"Wordcloud\",\n    \"metadata\": {\"modifies\": true},\n    \"params\": [\n      { \"name\": \"size\", \"type\": \"number\", \"array\": true, \"length\": 2 },\n      { \"name\": \"font\", \"type\": \"string\", \"expr\": true, \"default\": \"sans-serif\" },\n      { \"name\": \"fontStyle\", \"type\": \"string\", \"expr\": true, \"default\": \"normal\" },\n      { \"name\": \"fontWeight\", \"type\": \"string\", \"expr\": true, \"default\": \"normal\" },\n      { \"name\": \"fontSize\", \"type\": \"number\", \"expr\": true, \"default\": 14 },\n      { \"name\": \"fontSizeRange\", \"type\": \"number\", \"array\": \"nullable\", \"default\": [10, 50] },\n      { \"name\": \"rotate\", \"type\": \"number\", \"expr\": true, \"default\": 0 },\n      { \"name\": \"text\", \"type\": \"field\" },\n      { \"name\": \"spiral\", \"type\": \"string\", \"values\": [\"archimedean\", \"rectangular\"] },\n      { \"name\": \"padding\", \"type\": \"number\", \"expr\": true },\n      { \"name\": \"as\", \"type\": \"string\", \"array\": true, \"length\": 7, \"default\": Output }\n    ]\n  };\n\n  var prototype = vegaUtil.inherits(Wordcloud, vegaDataflow.Transform);\n\n  prototype.transform = function(_, pulse) {\n    if (_.size && !(_.size[0] && _.size[1])) {\n      vegaUtil.error('Wordcloud size dimensions must be non-zero.');\n    }\n\n    function modp(param) {\n      var p = _[param];\n      return vegaUtil.isFunction(p) && pulse.modified(p.fields);\n    }\n\n    var mod = _.modified();\n    if (!(mod || pulse.changed(pulse.ADD_REM) || Params.some(modp))) return;\n\n    var data = pulse.materialize(pulse.SOURCE).source,\n        layout = this.value,\n        as = _.as || Output,\n        fontSize = _.fontSize || 14,\n        range;\n\n    vegaUtil.isFunction(fontSize)\n      ? (range = _.fontSizeRange)\n      : (fontSize = vegaUtil.constant(fontSize));\n\n    // create font size scaling function as needed\n    if (range) {\n      var fsize = fontSize,\n          sizeScale = vegaScale.scale('sqrt')()\n            .domain(extent(fsize, data))\n            .range(range);\n      fontSize = function(x) { return sizeScale(fsize(x)); };\n    }\n\n    data.forEach(function(t) {\n      t[as[0]] = NaN;\n      t[as[1]] = NaN;\n      t[as[3]] = 0;\n    });\n\n    // configure layout\n    var words = layout\n      .words(data)\n      .text(_.text)\n      .size(_.size || [500, 500])\n      .padding(_.padding || 1)\n      .spiral(_.spiral || 'archimedean')\n      .rotate(_.rotate || 0)\n      .font(_.font || 'sans-serif')\n      .fontStyle(_.fontStyle || 'normal')\n      .fontWeight(_.fontWeight || 'normal')\n      .fontSize(fontSize)\n      .random(vegaStatistics.random)\n      .layout();\n\n    var size = layout.size(),\n        dx = size[0] >> 1,\n        dy = size[1] >> 1,\n        i = 0,\n        n = words.length,\n        w, t;\n\n    for (; i<n; ++i) {\n      w = words[i];\n      t = w.datum;\n      t[as[0]] = w.x + dx;\n      t[as[1]] = w.y + dy;\n      t[as[2]] = w.font;\n      t[as[3]] = w.size;\n      t[as[4]] = w.style;\n      t[as[5]] = w.weight;\n      t[as[6]] = w.rotate;\n    }\n\n    return pulse.reflow(mod).modifies(as);\n  };\n\n  function extent(field, data) {\n    var min = +Infinity,\n        max = -Infinity,\n        i = 0,\n        n = data.length,\n        v;\n\n    for (; i<n; ++i) {\n      v = field(data[i]);\n      if (v < min) min = v;\n      if (v > max) max = v;\n    }\n\n    return [min, max];\n  }\n\n  exports.wordcloud = Wordcloud;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n\n};"],
"names":["shadow$provide","global","process","require","module","exports","shadow$shims","factory","define","amd","self","vega","transforms","vegaCanvas","vegaDataflow","vegaUtil","vegaScale","vegaStatistics","cloud","getContext","canvas","width","height","ratio","Math","sqrt","getImageData","data","length","ch","context","fillStyle","strokeStyle","textAlign","place","board","tag","bounds","startX","x","startY","y","maxDelta","size","s","spiral","dt","random","t","dxdy","dx","dy","min","abs","x0","y0","x1","y1","sw","sprite","w","lx","sx","msx","h","j","i","last","text","font","fontSize","fontStyle","fontWeight","rotate","padding","archimedeanSpiral","words","cloud.layout","contextAndRatio","zeroArray","n","tags","map","d","style","weight","xoff","yoff","hasText","datum","sort","a","b","cloudSprite","push","cloudBounds","cloud.words","_","arguments","cloud.size","cloud.font","functor","cloud.fontStyle","cloud.fontWeight","cloud.rotate","cloud.text","cloud.spiral","spirals","cloud.fontSize","cloud.padding","cloud.random","di","c","clearRect","maxh","save","measureText","sr","sin","cloudRadians","cr","cos","wcr","wsr","hcr","hsr","max","translate","fillText","lineWidth","strokeText","restore","pixels","w32","seen","seenRow","m","slice","b0","b1","e","Wordcloud","params","Transform","call","extent","field","Infinity","v","PI","archimedean","rectangular","rectangularSpiral","sign","Output","Params","Definition","inherits","prototype","transform","prototype.transform","pulse","modp","param","p","isFunction","modified","fields","error","mod","changed","ADD_REM","some","materialize","SOURCE","source","layout","value","as","range","fontSizeRange","constant","fsize","sizeScale","scale","domain","forEach","NaN","reflow","modifies","wordcloud","Object","defineProperty"]
}
