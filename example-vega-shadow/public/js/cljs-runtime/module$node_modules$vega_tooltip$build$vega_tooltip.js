shadow$provide.module$node_modules$vega_tooltip$build$vega_tooltip=function(global$jscomp$0,process,require,module,exports$jscomp$0,shadow$shims){(function(global,factory){"object"===typeof exports$jscomp$0&&"undefined"!==typeof module?factory(exports$jscomp$0):"function"===typeof define&&define.amd?define(["exports"],factory):(global=global||self,factory(global.vegaTooltip={}))})(this,function(exports){function escapeHTML(value){return String(value).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")}
function createDefaultStyle(id){if(!/^[A-Za-z]+[-:.\w]*$/.test(id))throw Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
id)}function accessor(fn,fields,name){fn.fields=fields||[];fn.fname=name;return fn}function splitAccessPath(p){function push(){path.push(s+p.substring(i,j));s="";i=j+1}var path=[],q=null,b=0,n=p.length,s="",i,j;p+="";for(i=j=0;j<n;++j){var c=p[j];if("\\"===c)s+=p.substring(i,j),i=++j;else if(c===q)push(),q=null,b=-1;else if(!q)if(i===b&&'"'===c)i=j+1,q=c;else if(i===b&&"'"===c)i=j+1,q=c;else if("."===c&&!b)j>i?push():i=j+1;else if("["===c)j>i&&push(),b=i=j+1;else if("]"===c){if(!b)throw Error("Access path missing open bracket: "+
p);0<b&&push();b=0;i=j+1}}if(b)throw Error("Access path missing closing bracket: "+p);if(q)throw Error("Access path missing closing quote: "+p);j>i&&(j++,push());return path}function $(x){return isArray(x)?"["+x.map($)+"]":x===Object(x)||"string"===typeof x?JSON.stringify(x).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):x}function formatValue(value,valueToHtml,maxDepth){if(isArray(value))return"["+value.map(function(v){return valueToHtml("string"===typeof v?v:stringify(v,maxDepth))}).join(", ")+
"]";if(value===Object(value)){var content="",title=value.title;value=__rest(value,["title"]);title&&(content+="\x3ch2\x3e"+valueToHtml(title)+"\x3c/h2\x3e");title=Object.keys(value);if(0<title.length){content+="\x3ctable\x3e";title=$jscomp.makeIterator(title);for(var $jscomp$key$key=title.next();!$jscomp$key$key.done;$jscomp$key$key=title.next()){$jscomp$key$key=$jscomp$key$key.value;var val=value[$jscomp$key$key];void 0!==val&&(val===Object(val)&&(val=stringify(val,maxDepth)),content+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'+
valueToHtml($jscomp$key$key)+':\x3c/td\x3e\x3ctd class\x3d"value"\x3e'+valueToHtml(val)+"\x3c/td\x3e\x3c/tr\x3e")}content+="\x3c/table\x3e"}return content||"{}"}return valueToHtml(value)}function replacer(maxDepth){var stack=[];return function(key,value){if("object"!==typeof value||null===value)return value;key=stack.indexOf(this)+1;stack.length=key;if(stack.length>maxDepth)return"[Object]";if(0<=stack.indexOf(value))return"[Circular]";stack.push(value);return value}}function stringify(obj,maxDepth){return JSON.stringify(obj,
replacer(maxDepth))}function calculatePosition(event,tooltipBox,offsetX,offsetY){var x=event.clientX+offsetX;x+tooltipBox.width>window.innerWidth&&(x=+event.clientX-offsetX-tooltipBox.width);offsetX=event.clientY+offsetY;offsetX+tooltipBox.height>window.innerHeight&&(offsetX=+event.clientY-offsetY-tooltipBox.height);return{x:x,y:offsetX}}var DEFAULT_OPTIONS={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:escapeHTML,maxDepth:2},
isArray=Array.isArray,empty=[];(function(field,name){var path=splitAccessPath(field),code="return _["+path.map($).join("][")+"];";return accessor(Function("_",code),[field=1===path.length?path[0]:field],name||field)})("id");accessor(function(_){return _},empty,"identity");accessor(function(){return 0},empty,"zero");accessor(function(){return 1},empty,"one");accessor(function(){return!0},empty,"true");accessor(function(){return!1},empty,"false");var __rest=function(s,e){var t={},p;for(p in s)Object.prototype.hasOwnProperty.call(s,
p)&&0>e.indexOf(p)&&(t[p]=s[p]);if(null!=s&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)0>e.indexOf(p[i])&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t},Handler=function(options){this.options=Object.assign({},DEFAULT_OPTIONS,options);options=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var style=document.createElement("style");
style.setAttribute("id",this.options.styleId);style.innerHTML=createDefaultStyle(options);var head=document.head;0<head.childNodes.length?head.insertBefore(style,head.childNodes[0]):head.appendChild(style)}this.el=document.getElementById(options);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",options),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))};Handler.prototype.tooltipHandler=function(handler,event,item,value){null==value||""===value?this.el.classList.remove("visible",
this.options.theme+"-theme"):(this.el.innerHTML=formatValue(value,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",this.options.theme+"-theme"),handler=calculatePosition(event,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY),this.el.setAttribute("style","top: "+handler.y+"px; left: "+handler.x+"px"))};exports.DEFAULT_OPTIONS=DEFAULT_OPTIONS;exports.Handler=Handler;exports.calculatePosition=calculatePosition;exports.createDefaultStyle=createDefaultStyle;
exports.default=function(view,opt){opt=new Handler(opt);view.tooltip(opt.call).run();return opt};exports.escapeHTML=escapeHTML;exports.formatValue=formatValue;exports.replacer=replacer;exports.stringify=stringify;exports.version="0.18.1";Object.defineProperty(exports,"__esModule",{value:!0})})}
//# sourceMappingURL=module$node_modules$vega_tooltip$build$vega_tooltip.js.map
