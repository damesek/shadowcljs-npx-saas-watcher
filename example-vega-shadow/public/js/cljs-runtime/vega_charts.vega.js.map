{"version":3,"sources":["vega_charts/vega.cljs"],"mappings":";;;;;;;AAQA,AAAA,AAAMA,AAAKC;AAAX,AACE,AAAMC,AAAWD;;AAGnB,AAAA,AAAME,AAAeC,AAAKC;AAA1B,AACE,AAAMD;AAAN,AACE,AAAA,AAAA,AAAA,AAAA,AAAME;AAAN,AAGM,AAACC,AAAGF,AAAKD,AAAKE,AACd,AAAO,AAIP;AAJYE;AAAL,AAEE,AAAGC,AAAQ,AAAQD,AAAKJ;;AAEzB;AAAKM;AAAL,AACE,AAACV,AAAIU;;;;AAVvB;;;AAYF;;;AAAA,AAAMC,AAEHP;AAFH,AAGE,AAAA,AAAA,AAAA,AAAA,AAACQ,AAEsB,AAAKC;AAAL,AACE,AAACV,AAAcC,AAAK,AAACU,AAAWD;AAHzD,AAIyB,AAAAE,AAAKF;AAAL,AAAA,AAAAG,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAWE;AAAX,AAAAD,AAAAD,AAAA,AAAA,AAAaG;AAAb,AACE,AAAChB,AAAcgB,AAAS,AAACL,AAAWD;AAL/D,AAMkB,AAAKT;AAAL,AAAA,AAAA","names":["vega-charts.vega/log","a-thing","js/console","vega-charts.vega/parse-vl-spec","spec","elem","opts","js/module$node_modules$vega_embed$build$vega_embed","res","js/module$node_modules$vega_tooltip$build$vega_tooltip","err","vega-charts.vega/vega-lite","reagent.core/create-class","this","reagent.core/dom-node","p__19638","vec__19639","cljs.core.nth.cljs$core$IFn$_invoke$arity$3","_","new-spec"],"sourcesContent":["(ns vega-charts.vega\n  (:require [reagent.core :as r]\n            [\"vega\" :as vegas]\n            [\"vega-lite\" :as vl]\n            [\"vega-embed\" :as ve]\n            [\"vega-tooltip\" :as vet]))\n\n\n(defn log [a-thing]\n  (.log js/console a-thing))\n\n\n(defn parse-vl-spec [spec elem]\n  (when spec\n    (let [opts #js {\"mode\" \"vega-lite\"\n                    \"renderer\" \"canvas\"\n                    \"actions\" false}]\n      (-> (ve elem spec opts)\n          (.then (fn [res]\n                   ;(log res)\n                   (. vet (vl (.-view res) spec))\n                   ))\n          (.catch (fn [err]\n                    (log err)))))))\n\n(defn vega-lite\n  \"Reagent component that renders vega-lite.\"\n  [spec]\n  (r/create-class\n   {:display-name \"vega-lite\"\n    :component-did-mount (fn [this]\n                           (parse-vl-spec spec (r/dom-node this)))\n    :component-will-update (fn [this [_ new-spec]]\n                             (parse-vl-spec new-spec (r/dom-node this)))\n    :reagent-render (fn [spec]\n                      [:div#vis])}))"]}